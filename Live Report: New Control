I just got new Chinese Motor Control and I'm about to test, dissect, apply and report on it.

It's rated 1500 Watts, 72 Volts (not 48-72). My requirement was 1800 Watts and I wanted one that went up to 72 Volts.
Although I'm using a 40 Volt (Ryobi) battery pack. I don't plan to go passed 60 Volts so,
I want 80 Volt capacitors and "Tubes" (FETs) and that's what comes with 72 volt units.
But, be careful, Bob told me (and he knows) that you shouldn't run your electrolytics less than half volts
because, they start to loose their identity.
You can cure them of this by running them for a while at near max but not on an erratic, spiky Chinese motor control.
I'm using a parallel string of Christmas lights (sans bulbs) to plug in all my old/stored capacitors at once.

Which the reason I had to buy a new control was that I already blew up two of them.
They are both the same: came with Go Kart motors, 1800 Watts, 48 Volts (described elsewhere).
The first one, I was soldering in a resistor (120K) to program the battery to 40 Volts and shorted out
a minor electrolytic in the, switching, 15 Volt supply.
I fixed the supply with just solder but there was twice the current drawn on five volts.
and it dragged both supplies down to unusable.
The MCU appears to be the culprit (is drawing way much) but I haven't excavated deep enough to know for sure.
I'll know more when I pull the MCU off of there to replace it.

I had the second one, sans case, running (good enough) the target motor off my target 40 Volt battery.
I got to see all the supplies and signals talking Chinese and reverse-not-engineered pretty much all of it.
I was vindicated in that the switching skeme is really inefficient and the right software will make it a lot better.
The TUBE drivers are 3 discrete transistors, quite a few diodes and resistors (I'll draw the circuits some day).
But they might work as is with the switching skeme I plan to use.

I guess I forgot to discharge the main capacitors because I heard a little snap when I slid the board back in the case.
All the power supplies, etc. are still right and its pretty much got to be the MCU just died again.
Its most likely I zapped an output. These Chinese MCU are not very tolerant.
The MCU has a funky pinout, 5 Volt supply, almost certainly 8 bit but, I couldn't find anything close.

My plan is to put Teensys (3.5 to start, eventually LC) with I/O buffers, in place of the Chinese MCUs, anyway 
but, I need to get my GoPed running for Bliss in a week.
So, I'm about to open this new control and connect it to my 40 Volt battery and 1800 Watt motor.
Your prayers are greatly appreciated.

Its got the "Learn" function which is activated by connecting to wires. Hopefully, it programs battery voltage.
Its got two wire reverse (as opposed to 3 wires on some controls).
Its got 18 TUBES (instead of 15).
Check out the Chinese documentation pictures and http://www.etotheipiplusone.net/?p=2373

I put a picture of the connections in this repository but, I couldn't find the info on the learn feature but,
I don't think it learns the battery voltage just, the rotation order of the position/hall sensors.
mine is wired right so I don't need to "learn" it (don't worry I'll try it anyway).

The wire order on the three wire throttle connector on this one is different than the other two controllers.

OK, I got the new controller running.

I swapped two wires on the Throttle connector. I swapped the controller side so all my controllers are the same.
The throttle wires coming out of the controller are +4.3 Volts (Red), Ground/0 Volts (Black) and signal (Green w/ white stripe)
All the black wires are ground/battery minus and connect to the thick black wire like other controllers.
All the red wires are some kind of power but not necessarily battery plus (so, a little different)

I hooked up the three thick motor legs/phases, the the two thick power wires and the
"Switch Plug"/"Ignition"/Switched Power, which is red, to battery plus (thick Red).
I turned the throttle and it ran. Backwards of course, so
I shunted the "Reversing the Plug" and the motor turned the other way but, not as fast.
I swapped two motor legs (green and blue) and swapped the corresponding wires on the position/hall connector.
I hooked the two Learn wires together, it ran slowly etc.
Seems to run OK. I can't hear the sensorless mode kick in like www.etotheipiplusone.net reported.
It doesn't seem much different between having the Halls plugged in or not. Not sure its using them.
I'll do more experimenting and scope out all signals later.

I haven't programmed the battery voltage (by soldering in a resister or jumper) but, I will.
The battery voltage circuit is exactly the same as the other two controllers but it seems to ignore it.
The battery voltage is programmed to 48 Volts (as shipped).
The label on the end says:

  "Voltage: 72V  Power: 1500W
  Current Limitting: 42A
  Under Limitting: 41V"

The Under Limiting (41 Volts) is consistent with being programmed for a 48 Volt Pack.
I've been running it on less than 41 Volts but, not much. I'll run it down some more and see what happens.

The Three Speed Plug has 3 wires (Pink, Black, and Grey).
Nothing connected is medium maxium speed. High maximum speed is Grey connected to black. Low is Pink and Black.

The "Low Level Plug" has Black and Blue with a white stripe and is the break function when you connect them together.
The High Level Plug doesn't do anything when you ground it or connect it to +5 Volts.
Its biased low (0 Volts) unlike all the other digital inputs which are biased at 5 Volts.
Maybe it wants battery voltage but, I'm afraid to try it.

I'm going to throw this new controller on my GoPed and take it to Bliss Music Festival.
I'll tear it back apart and finish this when I get back.







